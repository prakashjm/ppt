(this.webpackJsonpmydiary=this.webpackJsonpmydiary||[]).push([[0],{43:function(e,a,t){e.exports=t(74)},48:function(e,a,t){},49:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(23),o=t.n(i),c=(t(48),t(4)),l=t(5),s=t(8),m=t(7),u=(t(49),function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props.diary;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card card-body bg-light mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("span",{className:"mx-auto"},e.id)),r.a.createElement("div",{className:"col-lg-6 col-md-4 col-8"},r.a.createElement("h3",null,e.subject),r.a.createElement("p",null,e.content)),r.a.createElement("div",{className:"col-md-4 d-none d-lg-block"},r.a.createElement("ul",{className:"list-group"})))))}}]),t}(n.Component)),d=t(6),p=t(11),v=t.n(p),h=t(20),E=t(18),b=t.n(E),f=function(){return function(){var e=Object(h.a)(v.a.mark((function e(a){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/diary/diaryall");case 2:t=e.sent,console.log(">>"),console.log(t.data),a({type:"GET_DIARIES",payload:t.data});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},g=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getDiaries()}},{key:"render",value:function(){var e=this.props.diary.diaries;return console.log(">>>"),console.log(e),console.log(">>><<"),r.a.createElement("div",{className:"projects"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4 text-center"},"My Diary"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),e.map((function(e){return r.a.createElement(u,{key:e.id,diary:e})}))))))}}]),t}(n.Component),y=Object(d.b)((function(e){return{diary:e.diary}}),{getDiaries:f})(g),N=t(10),j=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},O=t(25),w=function(){return function(e){localStorage.removeItem("jwtToken"),j(!1),e({type:"SET_CURRENT_USER",payload:{}})}},k=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"logout",value:function(){this.props.logout(),window.location.href="/"}},{key:"render",value:function(){var e,a=this.props.security,t=a.validToken,n=a.user,i=r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.b,{className:"nav-link",to:"/adddary"},"What's up"))),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.b,{className:"nav-link",to:"/dashboard"},r.a.createElement("i",{className:"fas fa-user-circle mr-1"}),n.fullName)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.b,{className:"nav-link",to:"/logout",onClick:this.logout.bind(this)},"Logout")))),o=r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.b,{className:"nav-link",to:"/register"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.b,{className:"nav-link",to:"/login"},"Login"))));return e=t&&n?i:o,r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-primary mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(N.b,{className:"navbar-brand",to:"/dashboard"},"Trace          "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),e))}}]),t}(n.Component),C=Object(d.b)((function(e){return{security:e.security}}),{logout:w})(k),S=(t(73),t(3)),R=t(15),T=t(41),_={},x=t(2),D={projects:[],project:{}},U={project_tasks:[],project_task:{}},A={validToken:!1,user:{}},G=function(e){return!!e},M={diaries:[],diary:{}},L=Object(R.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return a.payload;default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_PROJECTS":return Object(x.a)(Object(x.a)({},e),{},{projects:a.payload});case"GET_PROJECT":return Object(x.a)(Object(x.a)({},e),{},{project:a.payload});case"DELETE_PROJECT":return Object(x.a)(Object(x.a)({},e),{},{projects:e.projects.filter((function(e){return e.projectIdentifier!==a.payload}))});default:return e}},backlog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_BACKLOG":return Object(x.a)(Object(x.a)({},e),{},{project_tasks:a.payload});case"GET_PROJECT_TASK":return Object(x.a)(Object(x.a)({},e),{},{project_task:a.payload});case"DELETE_PROJECT_TASK":return Object(x.a)(Object(x.a)({},e),{},{project_tasks:e.project_tasks.filter((function(e){return e.projectSequence!==a.payload}))});default:return e}},security:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_USER":return Object(x.a)(Object(x.a)({},e),{},{validToken:G(a.payload),user:a.payload});default:return e}},diary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_DIARIES":return Object(x.a)(Object(x.a)({},e),{},{diaries:a.payload});case"GET_DIARY":return Object(x.a)(Object(x.a)({},e),{},{project:a.payload});default:return e}}}),P={},I=[T.a],W=window.navigator.userAgent.includes("Chrome")?Object(R.e)(L,P,Object(R.d)(R.a.apply(void 0,I),window.REDUX_DEVTOOLS_EXTENSION_COMPOSE?window.REDUX_DEVTOOLS_EXTENSION_COMPOSE({}):R.d)):Object(R.e)(L,P,Object(R.d)(R.a.apply(void 0,I))),J=t(19),B=t(17),X=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).state={email:"",password:"",firstName:"",middleName:"",lastName:"",mobile:"",errors:{}},e.onChange=e.onChange.bind(Object(B.a)(e)),e.onSubmit=e.onSubmit.bind(Object(B.a)(e)),e}return Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&(console.log(e.errors),this.setState({errors:e.errors}))}},{key:"onChange",value:function(e){this.setState(Object(J.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var a={email:this.state.email,firstName:this.state.firstName,middleName:this.state.middleName,lastName:this.state.lastName,password:this.state.password,mobile:this.state.mobile};this.props.createUser(a,this.props.history),console.log(a)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("body",null,r.a.createElement("div",{className:"limiter"},r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"wrap-login100 p-b-20"},r.a.createElement("form",{className:"login100-form validate-form",onSubmit:this.onSubmit},r.a.createElement("span",{className:"login100-form-title p-b-70"},"Join My Diary"),r.a.createElement("div",{className:"wrap-input100 validate-input   m-b-35","data-validate":"Enter Email"},r.a.createElement("input",{className:"input100",type:"text",name:"email",placeholder:"Enter Email",value:this.state.email,onChange:this.onChange}),function(){if(e.email)return r.a.createElement("div",{class:"alert alert-danger"},e.email)}()),r.a.createElement("div",{className:"wrap-input100 validate-input   m-b-15","data-validate":"Enter password"},r.a.createElement("input",{className:"input100",type:"password",name:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.onChange}),function(){if(e.password)return r.a.createElement("div",{class:"alert alert-danger"},e.password)}()),r.a.createElement("div",{className:"wrap-input100 validate-input   m-b-50","data-validate":"Enter first Name"},r.a.createElement("input",{className:"input100",type:"text",name:"firstName",placeholder:"Enter First Name",value:this.state.firstName,onChange:this.onChange}),function(){if(e.firstName)return r.a.createElement("div",{class:"alert alert-danger"},e.firstName)}()),r.a.createElement("div",{className:"wrap-input100 validate-input  m-b-50","data-validate":"Enter Middle Name"},r.a.createElement("input",{className:"input100",type:"text",name:"middleName",placeholder:"Enter Middle Name",value:this.state.middleName,onChange:this.onChange}),function(){if(e.middleName)return r.a.createElement("div",{class:"alert alert-danger"},e.middleName)}()),r.a.createElement("div",{className:"wrap-input100 validate-input  m-b-35","data-validate":"Enter Last Name"},r.a.createElement("input",{className:"input100",type:"text",name:"lastName",placeholder:"Enter Last Name",value:this.state.lastName,onChange:this.onChange}),function(){if(e.lastName)return r.a.createElement("div",{class:"alert alert-danger"},e.lastName)}()),r.a.createElement("div",{className:"wrap-input100 validate-input  m-b-35","data-validate":"Enter Mobile"},r.a.createElement("input",{className:"input100",type:"text",name:"mobile",placeholder:"Enter Mobile Number",value:this.state.mobile,onChange:this.onChange}),function(){if(e.mobile)return r.a.createElement("div",{class:"alert alert-danger"},e.mobile)}()),r.a.createElement("div",{className:"m-b-35"},function(){if(e.OBJERROR)return r.a.createElement("div",{class:"alert alert-danger"},e.OBJERROR)}()),r.a.createElement("div",{className:"container-login100-form-btn"},r.a.createElement("button",{className:"login100-form-btn"},"Signup"))),r.a.createElement("div",{className:"m-b-35"},r.a.createElement("span",{className:"txt1"},"Have an account?"),r.a.createElement(N.b,{to:"/"},"Sign in"))))))}}]),t}(n.Component),q=Object(d.b)((function(e){return{errors:e.errors}}),{createUser:function(e,a){return function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("in action111111"),t.next=4,b.a.post("/api/users/register",e);case 4:a.push("/"),n({type:"GET_ERRORS",payload:{}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(X),F=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).state={email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(B.a)(e)),e.onSubmit=e.onSubmit.bind(Object(B.a)(e)),e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.security.validToken&&this.props.history.push("/home")}},{key:"componentWillReceiveProps",value:function(e){e.security.validToken&&this.props.history.push("/home"),e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var a={userName:this.state.email,password:this.state.password};this.props.login(a)}},{key:"onChange",value:function(e){this.setState(Object(J.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"limiter"},r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"wrap-login100 p-t-85 p-b-20"},r.a.createElement("form",{className:"login100-form validate-form",onSubmit:this.onSubmit},r.a.createElement("span",{className:"login100-form-title p-b-70"},"Welcome"),r.a.createElement("span",{className:"login100-form-avatar"},r.a.createElement("img",{src:"https://colorlib.com/etc/lf/Login_v6/images/avatar-01.jpg",alt:"AVATAR"})),r.a.createElement("div",{className:"wrap-input100 validate-input m-t-85 m-b-35"},r.a.createElement("input",{className:"input100",type:"email",name:"email",value:this.state.email,onChange:this.onChange,placeholder:"Enter Email",required:!0})),r.a.createElement("div",{className:"wrap-input100 validate-input m-b-50","data-validate":"Enter password"},r.a.createElement("input",{className:"input100",type:"password",name:"password",value:this.state.password,onChange:this.onChange,placeholder:"Enter Password",required:!0}),r.a.createElement("span",{className:"focus-input100"})),function(){if(e.error)return r.a.createElement("div",{class:"alert alert-danger"},e.error)}(),r.a.createElement("div",{className:"container-login100-form-btn"},r.a.createElement("button",{className:"login100-form-btn"},"Login")),r.a.createElement("ul",{className:"login-more p-t-40"},r.a.createElement("li",{className:"m-b-8"},r.a.createElement("span",{className:"txt1"},"Forgot")),r.a.createElement("li",null,r.a.createElement("span",{className:"txt1"},"Don\u2019t have an account?"),r.a.createElement(N.b,{to:"/signup/"},"Sign up")))))))}}]),t}(n.Component),K=Object(d.b)((function(e){return{security:e.security,errors:e.errors}}),{login:function(e){return function(){var a=Object(h.a)(v.a.mark((function a(t){var n,r,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.a.post("/api/users/authenticate",e);case 3:n=a.sent,console.log("The data"),console.log(n.data),r=n.data.token,localStorage.setItem("jwtToken","Bearer "+r),j(r),console.log(r),console.log(n),i=Object(O.a)(r),t({type:"SET_CURRENT_USER",payload:i}),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),t({type:"GET_ERRORS",payload:a.t0.response.data});case 18:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e){return a.apply(this,arguments)}}()}})(F),V=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).state={id:"",subject:"",diaryDate:"",content:"",errors:{}},e.onChange=e.onChange.bind(Object(B.a)(e)),e.onSubmit=e.onSubmit.bind(Object(B.a)(e)),e}return Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&(console.log(e.errors),this.setState({errors:e.errors}))}},{key:"onChange",value:function(e){this.setState(Object(J.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log("-------");var a={id:this.state.id,subject:this.state.subject,diaryDate:this.state.diaryDate,content:this.state.content};this.props.createDiaryContent(a,this.props.history),console.log(a)}},{key:"render",value:function(){return r.a.createElement("body",null,r.a.createElement("div",{className:"limiter"},r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"wrap-login100 p-b-20"},r.a.createElement("form",{className:"login100-form validate-form",onSubmit:this.onSubmit},r.a.createElement("span",{className:"login100-form-title p-b-70"},"What's Up Bro"),r.a.createElement("div",null,r.a.createElement("input",{className:"input100",type:"text",name:"id",placeholder:"Enter id",value:this.state.id,onChange:this.onChange,hidden:!0})),r.a.createElement("div",{className:"wrap-input100 validate-input   m-b-15","data-validate":"Enter password"},r.a.createElement("input",{className:"input100",type:"text",name:"subject",placeholder:"Enter Password",value:this.state.subject,onChange:this.onChange})),r.a.createElement("div",{className:"wrap-input100 validate-input   m-b-50","data-validate":"Enter first Name"},r.a.createElement("input",{className:"input100",type:"text",name:"diaryDate",placeholder:"Enter First Name",value:this.state.diaryDate,onChange:this.onChange})),r.a.createElement("div",{className:"wrap-input100 validate-input  m-b-50","data-validate":"Enter Middle Name"},r.a.createElement("input",{className:"input100",type:"text",name:"content",placeholder:"Enter Middle Name",value:this.state.content,onChange:this.onChange})),r.a.createElement("div",{className:"container-login100-form-btn"},r.a.createElement("button",{className:"login100-form-btn"},"Save")))))))}}]),t}(n.Component),z=Object(d.b)((function(e){return{errors:e.errors}}),{createDiaryContent:function(e,a){return function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.post("/api/diary/savediary",e);case 3:a.push("/home"),n({type:"GET_ERRORS",payload:{}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.response.data});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(V),H=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getDiaries()}},{key:"render",value:function(){var e=this.props.diary.diaries;return console.log(">>>"),console.log(e),console.log(">>><<"),r.a.createElement("div",{className:"projects"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4 text-center"},"My Diary"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),e.map((function(e){return r.a.createElement(u,{key:e.id,diary:e})}))))))}}]),t}(n.Component),Q=Object(d.b)((function(e){return{diary:e.diary}}),{getDiaries:f})(H),Y=t(42),$=Object(d.b)((function(e){return{security:e.security}}))((function(e){var a=e.component,t=e.security,n=Object(Y.a)(e,["component","security"]);return r.a.createElement(S.b,Object.assign({},n,{render:function(e){return!0===t.validToken?r.a.createElement(a,e):r.a.createElement(S.a,{to:"/login"})}}))})),Z=localStorage.jwtToken;if(Z){j(Z);var ee=Object(O.a)(Z);W.dispatch({type:"SET_CURRENT_USER",payload:ee});var ae=Date.now()/1e3;ee.exp<ae&&(W.dispatch(w()),window.location.href="/register")}var te=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:W},r.a.createElement(N.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(C,null),r.a.createElement(S.b,{exact:!0,path:"/",component:K}),r.a.createElement(S.b,{exact:!0,path:"/signup",component:q}),r.a.createElement(S.b,{exact:!0,path:"/login",component:K}),r.a.createElement(S.d,null,r.a.createElement($,{exact:!0,path:"/dashboard",component:y}),r.a.createElement($,{exact:!0,path:"/register",component:q}),r.a.createElement($,{exact:!0,path:"/adddary",component:z}),r.a.createElement($,{exact:!0,path:"/diaryall",component:Q})))))}}]),t}(n.Component),ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(te,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ne?(!function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):re(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):re(e)}))}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.92d65c63.chunk.js.map